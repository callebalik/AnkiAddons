/*!
 * AMBOSS Anki Add-on
 * 
 * Copyright (C) 2019-2022 AMBOSS MD Inc. <https://www.amboss.com/us>
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as
 * published by the Free Software Foundation, either version 3 of the
 * License, or (at your option) any later version, with the additions
 * listed at the end of the license file that accompanied this program.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 * 
 * You should have received a copy of the GNU Affero General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 * 
 */
var ambossAddon="object"==typeof ambossAddon?ambossAddon:{};ambossAddon.analytics=function(Q){var F={};function U(n){if(F[n])return F[n].exports;var s=F[n]={i:n,l:!1,exports:{}};return Q[n].call(s.exports,s,s.exports,U),s.l=!0,s.exports}return U.m=Q,U.c=F,U.d=function(Q,F,n){U.o(Q,F)||Object.defineProperty(Q,F,{enumerable:!0,get:n})},U.r=function(Q){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Q,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Q,"__esModule",{value:!0})},U.t=function(Q,F){if(1&F&&(Q=U(Q)),8&F)return Q;if(4&F&&"object"==typeof Q&&Q&&Q.__esModule)return Q;var n=Object.create(null);if(U.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:Q}),2&F&&"string"!=typeof Q)for(var s in Q)U.d(n,s,function(F){return Q[F]}.bind(null,s));return n},U.n=function(Q){var F=Q&&Q.__esModule?function(){return Q.default}:function(){return Q};return U.d(F,"a",F),F},U.o=function(Q,F){return Object.prototype.hasOwnProperty.call(Q,F)},U.p="",U(U.s=2)}({2:function(module,__webpack_exports__,__webpack_require__){"use strict";eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"track\", function() { return track; });\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n// disable cookies\ndocument.__defineGetter__('cookie', function () {\n  return '';\n});\n\nconst warnCopy = console.warn;\n\nconsole.warn = function log() {\n  if (arguments && arguments[0] && typeof arguments[0] === 'string' && arguments[0].match(/cannot set property cookie of|localStorage may be/gi)) {\n    return;\n  }\n\n  if (arguments) {\n    warnCopy.apply(console, Array.prototype.slice.call(arguments));\n  }\n};\n\n!function () {\n  var analytics = window.analytics = window.analytics || [];\n\n  if (!analytics.initialize && !analytics.invoked) {\n    analytics.invoked = !0;\n    analytics.methods = ['reset', 'setAnonymousId', 'identify', 'track', 'page'];\n\n    analytics.factory = function (t) {\n      return function () {\n        var e = Array.prototype.slice.call(arguments);\n        e.unshift(t);\n        analytics.push(e);\n        return analytics;\n      };\n    };\n\n    for (var t = 0; t < analytics.methods.length; t++) {\n      var e = analytics.methods[t];\n      analytics[e] = analytics.factory(e);\n    }\n\n    analytics.load = function (token, options, endpoint) {\n      var n = document.createElement('script');\n      n.type = 'text/javascript';\n      n.async = !0;\n      n.src = endpoint + token + '/a.min.js';\n      var a = document.getElementsByTagName('script')[0];\n      a.parentNode.insertBefore(n, a);\n      analytics._loadOptions = options;\n    };\n\n    analytics.SNIPPET_VERSION = '4.1.0';\n    analytics.load(\"JabXayKea69oVRQrDghBRiGJ3g7pdHdP\", {\n      integrations: {\n        All: false,\n        'Segment.io': true\n      }\n    }, \"https://www.amboss.com/us/api/sprx/cdn/\");\n  }\n}();\n\nconst ambossAnkiVersion = () => {\n  return new Promise(resolve => {\n    pycmd('amboss:version:ankiVersion', result => {\n      resolve(result || 'unknown');\n    });\n  });\n};\n\nconst ambossAddonVersion = () => {\n  return new Promise(resolve => {\n    pycmd('amboss:version:addonVersion', result => {\n      resolve(result || 'unknown');\n    });\n  });\n};\n\nconst ambossAnonId = () => {\n  return new Promise(resolve => {\n    pycmd('amboss:profile:anonId', result => {\n      resolve(result || null);\n    });\n  });\n};\n\nconst ambossUserId = () => {\n  return new Promise(resolve => {\n    pycmd('amboss:profile:userId', result => {\n      resolve(result || null);\n    });\n  });\n};\n\nconst ambossContextOptions = () => {\n  return new Promise(resolve => {\n    Promise.all([ambossAnkiVersion(), ambossAddonVersion(), ambossAnonId(), ambossUserId()]).then(values => {\n      const [ankiVersion, addonVersion, anonId, userId] = values;\n\n      const options = _objectSpread(_objectSpread(_objectSpread({}, anonId ? {\n        anonymousId: anonId\n      } : {}), userId ? {\n        userId: userId\n      } : {}), {}, {\n        context: {\n          app: {\n            name: 'anki-addon',\n            version: addonVersion,\n            hostVersion: ankiVersion,\n            stage: \"production\",\n            ambossLanguage: \"en\",\n            channel: \"download\"\n          }\n        }\n      });\n\n      resolve(options);\n    });\n  });\n}; // eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\n\n\nconst track = (name, properties = {}) => {\n  if (analytics) {\n    Promise.resolve(ambossContextOptions()).then((contextOptions = {}) => {\n      const {\n        userId,\n        anonymousId\n      } = contextOptions;\n      const analyticsUser = typeof analytics.user === 'function' ? analytics.user() : {};\n      const analyticsId = typeof analyticsUser.id === 'function' && analyticsUser.id();\n      const analyticsAnonymousId = typeof analyticsUser.anonymousId === 'function' && analyticsUser.anonymousId();\n      const reset = typeof analytics.reset === 'function' && analytics.reset;\n      const identify = typeof analytics.identify === 'function' && analytics.identify;\n      const setAnonymousId = typeof analytics.setAnonymousId === 'function' && analytics.setAnonymousId;\n\n      if (!userId && analyticsId && reset) {\n        reset();\n      } else if (userId && userId !== analyticsId && identify) {\n        identify(userId);\n      }\n\n      if (anonymousId && anonymousId !== analyticsAnonymousId && setAnonymousId) {\n        setAnonymousId(anonymousId);\n      }\n\n      analytics.track(`anki-addon.${name}`, properties, contextOptions);\n\n      if (false) {}\n    });\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hbWJvc3NBZGRvbi5bbmFtZV0vLi9zcmMvd2ViL2FuYWx5dGljcy9hbmFseXRpY3MuanM/NDAwNyJdLCJuYW1lcyI6WyJkb2N1bWVudCIsIl9fZGVmaW5lR2V0dGVyX18iLCJ3YXJuQ29weSIsImNvbnNvbGUiLCJ3YXJuIiwibG9nIiwiYXJndW1lbnRzIiwibWF0Y2giLCJhcHBseSIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiYW5hbHl0aWNzIiwid2luZG93IiwiaW5pdGlhbGl6ZSIsImludm9rZWQiLCJtZXRob2RzIiwiZmFjdG9yeSIsInQiLCJlIiwidW5zaGlmdCIsInB1c2giLCJsZW5ndGgiLCJsb2FkIiwidG9rZW4iLCJvcHRpb25zIiwiZW5kcG9pbnQiLCJuIiwiY3JlYXRlRWxlbWVudCIsInR5cGUiLCJhc3luYyIsInNyYyIsImEiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInBhcmVudE5vZGUiLCJpbnNlcnRCZWZvcmUiLCJfbG9hZE9wdGlvbnMiLCJTTklQUEVUX1ZFUlNJT04iLCJBTUJPU1NfQU5BTFlUSUNTX0tFWSIsImludGVncmF0aW9ucyIsIkFsbCIsIkFNQk9TU19BTkFMWVRJQ1NfVVJMIiwiYW1ib3NzQW5raVZlcnNpb24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInB5Y21kIiwicmVzdWx0IiwiYW1ib3NzQWRkb25WZXJzaW9uIiwiYW1ib3NzQW5vbklkIiwiYW1ib3NzVXNlcklkIiwiYW1ib3NzQ29udGV4dE9wdGlvbnMiLCJhbGwiLCJ0aGVuIiwidmFsdWVzIiwiYW5raVZlcnNpb24iLCJhZGRvblZlcnNpb24iLCJhbm9uSWQiLCJ1c2VySWQiLCJhbm9ueW1vdXNJZCIsImNvbnRleHQiLCJhcHAiLCJuYW1lIiwidmVyc2lvbiIsImhvc3RWZXJzaW9uIiwic3RhZ2UiLCJBTUJPU1NfU1RBR0UiLCJhbWJvc3NMYW5ndWFnZSIsIkFNQk9TU19MQU5HVUFHRSIsImNoYW5uZWwiLCJBTUJPU1NfRElTVFJJQlVUSU9OX0NIQU5ORUwiLCJ0cmFjayIsInByb3BlcnRpZXMiLCJjb250ZXh0T3B0aW9ucyIsImFuYWx5dGljc1VzZXIiLCJ1c2VyIiwiYW5hbHl0aWNzSWQiLCJpZCIsImFuYWx5dGljc0Fub255bW91c0lkIiwicmVzZXQiLCJpZGVudGlmeSIsInNldEFub255bW91c0lkIiwiQU1CT1NTX0RFQlVHIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0FBLFFBQVEsQ0FBQ0MsZ0JBQVQsQ0FBMEIsUUFBMUIsRUFBb0MsWUFBWTtFQUM5QyxPQUFPLEVBQVA7QUFDRCxDQUZEOztBQUdBLE1BQU1DLFFBQVEsR0FBR0MsT0FBTyxDQUFDQyxJQUF6Qjs7QUFDQUQsT0FBTyxDQUFDQyxJQUFSLEdBQWUsU0FBU0MsR0FBVCxHQUFlO0VBQzVCLElBQ0VDLFNBQVMsSUFDVEEsU0FBUyxDQUFDLENBQUQsQ0FEVCxJQUVBLE9BQU9BLFNBQVMsQ0FBQyxDQUFELENBQWhCLEtBQXdCLFFBRnhCLElBR0FBLFNBQVMsQ0FBQyxDQUFELENBQVQsQ0FBYUMsS0FBYixDQUFtQixxREFBbkIsQ0FKRixFQUtFO0lBQ0E7RUFDRDs7RUFDRCxJQUFJRCxTQUFKLEVBQWU7SUFDYkosUUFBUSxDQUFDTSxLQUFULENBQWVMLE9BQWYsRUFBd0JNLEtBQUssQ0FBQ0MsU0FBTixDQUFnQkMsS0FBaEIsQ0FBc0JDLElBQXRCLENBQTJCTixTQUEzQixDQUF4QjtFQUNEO0FBQ0YsQ0FaRDs7QUFjQSxDQUFFLFlBQVk7RUFDWixJQUFJTyxTQUFTLEdBQUlDLE1BQU0sQ0FBQ0QsU0FBUCxHQUFtQkMsTUFBTSxDQUFDRCxTQUFQLElBQW9CLEVBQXhEOztFQUNBLElBQUksQ0FBQ0EsU0FBUyxDQUFDRSxVQUFYLElBQXlCLENBQUNGLFNBQVMsQ0FBQ0csT0FBeEMsRUFBaUQ7SUFDL0NILFNBQVMsQ0FBQ0csT0FBVixHQUFvQixDQUFDLENBQXJCO0lBQ0FILFNBQVMsQ0FBQ0ksT0FBVixHQUFvQixDQUFDLE9BQUQsRUFBVSxnQkFBVixFQUE0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QXRDLEVBQWtEQyxjQUFsRDs7TUFFQSxJQUFJUyxLQUFKLEVBQWtCLEVBRWpCO0lBQ0YsQ0F4QkQ7RUF5QkQ7QUFDRixDQTVCTSIsImZpbGUiOiIyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gZGlzYWJsZSBjb29raWVzXG5kb2N1bWVudC5fX2RlZmluZUdldHRlcl9fKCdjb29raWUnLCBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAnJ1xufSlcbmNvbnN0IHdhcm5Db3B5ID0gY29uc29sZS53YXJuXG5jb25zb2xlLndhcm4gPSBmdW5jdGlvbiBsb2coKSB7XG4gIGlmIChcbiAgICBhcmd1bWVudHMgJiZcbiAgICBhcmd1bWVudHNbMF0gJiZcbiAgICB0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnc3RyaW5nJyAmJlxuICAgIGFyZ3VtZW50c1swXS5tYXRjaCgvY2Fubm90IHNldCBwcm9wZXJ0eSBjb29raWUgb2Z8bG9jYWxTdG9yYWdlIG1heSBiZS9naSlcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgaWYgKGFyZ3VtZW50cykge1xuICAgIHdhcm5Db3B5LmFwcGx5KGNvbnNvbGUsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpXG4gIH1cbn1cblxuIShmdW5jdGlvbiAoKSB7XG4gIHZhciBhbmFseXRpY3MgPSAod2luZG93LmFuYWx5dGljcyA9IHdpbmRvdy5hbmFseXRpY3MgfHwgW10pXG4gIGlmICghYW5hbHl0aWNzLmluaXRpYWxpemUgJiYgIWFuYWx5dGljcy5pbnZva2VkKSB7XG4gICAgYW5hbHl0aWNzLmludm9rZWQgPSAhMFxuICAgIGFuYWx5dGljcy5tZXRob2RzID0gWydyZXNldCcsICdzZXRBbm9ueW1vdXNJZCcsICdpZGVudGlmeScsICd0cmFjaycsICdwYWdlJ11cbiAgICBhbmFseXRpY3MuZmFjdG9yeSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cylcbiAgICAgICAgZS51bnNoaWZ0KHQpXG4gICAgICAgIGFuYWx5dGljcy5wdXNoKGUpXG4gICAgICAgIHJldHVybiBhbmFseXRpY3NcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgdCA9IDA7IHQgPCBhbmFseXRpY3MubWV0aG9kcy5sZW5ndGg7IHQrKykge1xuICAgICAgdmFyIGUgPSBhbmFseXRpY3MubWV0aG9kc1t0XVxuICAgICAgYW5hbHl0aWNzW2VdID0gYW5hbHl0aWNzLmZhY3RvcnkoZSlcbiAgICB9XG4gICAgYW5hbHl0aWNzLmxvYWQgPSBmdW5jdGlvbiAodG9rZW4sIG9wdGlvbnMsIGVuZHBvaW50KSB7XG4gICAgICB2YXIgbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpXG4gICAgICBuLnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0J1xuICAgICAgbi5hc3luYyA9ICEwXG4gICAgICBuLnNyYyA9IGVuZHBvaW50ICsgdG9rZW4gKyAnL2EubWluLmpzJ1xuICAgICAgdmFyIGEgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2NyaXB0JylbMF1cbiAgICAgIGEucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobiwgYSlcbiAgICAgIGFuYWx5dGljcy5fbG9hZE9wdGlvbnMgPSBvcHRpb25zXG4gICAgfVxuICAgIGFuYWx5dGljcy5TTklQUEVUX1ZFUlNJT04gPSAnNC4xLjAnXG4gICAgYW5hbHl0aWNzLmxvYWQoXG4gICAgICBBTUJPU1NfQU5BTFlUSUNTX0tFWSxcbiAgICAgIHtcbiAgICAgICAgaW50ZWdyYXRpb25zOiB7IEFsbDogZmFsc2UsICdTZWdtZW50LmlvJzogdHJ1ZSB9LFxuICAgICAgfSxcbiAgICAgIEFNQk9TU19BTkFMWVRJQ1NfVVJMXG4gICAgKVxuICB9XG59KSgpXG5cbmNvbnN0IGFtYm9zc0Fua2lWZXJzaW9uID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBweWNtZCgnYW1ib3NzOnZlcnNpb246YW5raVZlcnNpb24nLCAocmVzdWx0KSA9PiB7XG4gICAgICByZXNvbHZlKHJlc3VsdCB8fCAndW5rbm93bicpXG4gICAgfSlcbiAgfSlcbn1cblxuY29uc3QgYW1ib3NzQWRkb25WZXJzaW9uID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBweWNtZCgnYW1ib3NzOnZlcnNpb246YWRkb25WZXJzaW9uJywgKHJlc3VsdCkgPT4ge1xuICAgICAgcmVzb2x2ZShyZXN1bHQgfHwgJ3Vua25vd24nKVxuICAgIH0pXG4gIH0pXG59XG5cbmNvbnN0IGFtYm9zc0Fub25JZCA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgcHljbWQoJ2FtYm9zczpwcm9maWxlOmFub25JZCcsIChyZXN1bHQpID0+IHtcbiAgICAgIHJlc29sdmUocmVzdWx0IHx8IG51bGwpXG4gICAgfSlcbiAgfSlcbn1cblxuY29uc3QgYW1ib3NzVXNlcklkID0gKCkgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICBweWNtZCgnYW1ib3NzOnByb2ZpbGU6dXNlcklkJywgKHJlc3VsdCkgPT4ge1xuICAgICAgcmVzb2x2ZShyZXN1bHQgfHwgbnVsbClcbiAgICB9KVxuICB9KVxufVxuXG5jb25zdCBhbWJvc3NDb250ZXh0T3B0aW9ucyA9ICgpID0+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgUHJvbWlzZS5hbGwoW2FtYm9zc0Fua2lWZXJzaW9uKCksIGFtYm9zc0FkZG9uVmVyc2lvbigpLCBhbWJvc3NBbm9uSWQoKSwgYW1ib3NzVXNlcklkKCldKS50aGVuKCh2YWx1ZXMpID0+IHtcbiAgICAgIGNvbnN0IFthbmtpVmVyc2lvbiwgYWRkb25WZXJzaW9uLCBhbm9uSWQsIHVzZXJJZF0gPSB2YWx1ZXNcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIC4uLihhbm9uSWQgPyB7IGFub255bW91c0lkOiBhbm9uSWQgfSA6IHt9KSxcbiAgICAgICAgLi4uKHVzZXJJZCA/IHsgdXNlcklkOiB1c2VySWQgfSA6IHt9KSxcbiAgICAgICAgY29udGV4dDoge1xuICAgICAgICAgIGFwcDoge1xuICAgICAgICAgICAgbmFtZTogJ2Fua2ktYWRkb24nLFxuICAgICAgICAgICAgdmVyc2lvbjogYWRkb25WZXJzaW9uLFxuICAgICAgICAgICAgaG9zdFZlcnNpb246IGFua2lWZXJzaW9uLFxuICAgICAgICAgICAgc3RhZ2U6IEFNQk9TU19TVEFHRSxcbiAgICAgICAgICAgIGFtYm9zc0xhbmd1YWdlOiBBTUJPU1NfTEFOR1VBR0UsXG4gICAgICAgICAgICBjaGFubmVsOiBBTUJPU1NfRElTVFJJQlVUSU9OX0NIQU5ORUwsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICAgIHJlc29sdmUob3B0aW9ucylcbiAgICB9KVxuICB9KVxufVxuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZXhwb3J0IGNvbnN0IHRyYWNrID0gKG5hbWUsIHByb3BlcnRpZXMgPSB7fSkgPT4ge1xuICBpZiAoYW5hbHl0aWNzKSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKGFtYm9zc0NvbnRleHRPcHRpb25zKCkpLnRoZW4oKGNvbnRleHRPcHRpb25zID0ge30pID0+IHtcbiAgICAgIGNvbnN0IHsgdXNlcklkLCBhbm9ueW1vdXNJZCB9ID0gY29udGV4dE9wdGlvbnNcbiAgICAgIGNvbnN0IGFuYWx5dGljc1VzZXIgPSB0eXBlb2YgYW5hbHl0aWNzLnVzZXIgPT09ICdmdW5jdGlvbicgPyBhbmFseXRpY3MudXNlcigpIDoge31cbiAgICAgIGNvbnN0IGFuYWx5dGljc0lkID0gdHlwZW9mIGFuYWx5dGljc1VzZXIuaWQgPT09ICdmdW5jdGlvbicgJiYgYW5hbHl0aWNzVXNlci5pZCgpXG4gICAgICBjb25zdCBhbmFseXRpY3NBbm9ueW1vdXNJZCA9IHR5cGVvZiBhbmFseXRpY3NVc2VyLmFub255bW91c0lkID09PSAnZnVuY3Rpb24nICYmIGFuYWx5dGljc1VzZXIuYW5vbnltb3VzSWQoKVxuXG4gICAgICBjb25zdCByZXNldCA9IHR5cGVvZiBhbmFseXRpY3MucmVzZXQgPT09ICdmdW5jdGlvbicgJiYgYW5hbHl0aWNzLnJlc2V0XG4gICAgICBjb25zdCBpZGVudGlmeSA9IHR5cGVvZiBhbmFseXRpY3MuaWRlbnRpZnkgPT09ICdmdW5jdGlvbicgJiYgYW5hbHl0aWNzLmlkZW50aWZ5XG4gICAgICBjb25zdCBzZXRBbm9ueW1vdXNJZCA9IHR5cGVvZiBhbmFseXRpY3Muc2V0QW5vbnltb3VzSWQgPT09ICdmdW5jdGlvbicgJiYgYW5hbHl0aWNzLnNldEFub255bW91c0lkXG5cbiAgICAgIGlmICghdXNlcklkICYmIGFuYWx5dGljc0lkICYmIHJlc2V0KSB7XG4gICAgICAgIHJlc2V0KClcbiAgICAgIH0gZWxzZSBpZiAodXNlcklkICYmIHVzZXJJZCAhPT0gYW5hbHl0aWNzSWQgJiYgaWRlbnRpZnkpIHtcbiAgICAgICAgaWRlbnRpZnkodXNlcklkKVxuICAgICAgfVxuICAgICAgaWYgKGFub255bW91c0lkICYmIGFub255bW91c0lkICE9PSBhbmFseXRpY3NBbm9ueW1vdXNJZCAmJiBzZXRBbm9ueW1vdXNJZCkge1xuICAgICAgICBzZXRBbm9ueW1vdXNJZChhbm9ueW1vdXNJZClcbiAgICAgIH1cblxuICAgICAgYW5hbHl0aWNzLnRyYWNrKGBhbmtpLWFkZG9uLiR7bmFtZX1gLCBwcm9wZXJ0aWVzLCBjb250ZXh0T3B0aW9ucylcblxuICAgICAgaWYgKEFNQk9TU19ERUJVRykge1xuICAgICAgICBjb25zb2xlLmxvZyhgdHJhY2soJHtuYW1lfSwgJHtKU09OLnN0cmluZ2lmeShwcm9wZXJ0aWVzKX0sICR7SlNPTi5zdHJpbmdpZnkoY29udGV4dE9wdGlvbnMpfSlgKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2\n")}});